/**
 * jQuery AutoLink
 *
 * @link		https://github.com/MarQuisKnox/jQuery.AutoLink
 * @license		MIT
 *
 * @copyright	2013 - 2015 Andreas Savvides et al
 * @copyright	2014 - 2017 MarQuis Knox
 */!function($){"use strict";function _linkify(e,a){var r,n={local:{baseUrl:"//"+window.location.host+"/",hashtagSearchUrl:"search/",target:"_self",scheme:"//"},twitter:{baseUrl:"https://twitter.com/",hashtagSearchUrl:"search?q=",target:"_blank",scheme:"https://"},instagram:{baseUrl:"http://instagram.com/",hashtagSearchUrl:"explore/tags/",target:"_blank",scheme:"http://"},github:{baseUrl:"https://github.com/",hashtagSearchUrl:null,target:"_blank",scheme:"https://"}},t={mentions:!0,hashtags:!1,emails:!0,urls:!0,linkTo:"local",target:"_self",scheme:"//"},i=$.extend(t,a),s=e.html();return i.hashtags&&(s=_linkifyHashtags(s,n[i.linkTo],e)),i.urls&&(r=s.match(URL_REGEX))&&(s=_linkifyUrls(r,e,i)),i.emails&&_isEmail(s)&&(s=_linkifyEmails(s,e,i)),i.mentions&&_isMention(s)&&(s=_linkifyMentions(s,n[i.linkTo].baseUrl,e,i)),s}function _hasScheme(e){var a=/ed2k|ftp|http|https|news|nntp/;return!!e.match(a)}function _isEmbed(e){var a=e.match(/dailymotion\.com\/embed/gi);if(a=null!==a)return!0;var r=e.match(/w\.soundcloud\.com\/player|api\.soundcloud\.com/gi);if(r=null!==r)return!0;var n=e.match(/player\.vimeo\.com\/video/gi);if(n=null!==n)return!0;if(e.match(/cache\.vevo\.com/gi))return!0;var t=e.match(/youtube\.com\/embed|youtube\-nocookie\.com\/embed/gi);return!!(t=null!==t)}function _linkifyUrls(e,a,r){var n=a.html();return e=array_unique(e),$.each(e,function(e,a){var t=_isEmbed(a),i=_hasScheme(a)?"":r.scheme,s=a.trim();s=s.replace("<br>",""),!t&&a.length>0&&(n=n.split(new RegExp(a)).join('<a class="linkified" href="'+i+s+'" target="'+r.target+'">'+a+"</a>"))}),n}function _isEmail(e){return!!e.match(EMAIL_REGEX)}function _getEmails(e){var a=e.match(EMAIL_REGEX);return a||null}function _isMention(e){return!!e.match(MENTION_REGEX)}function _getMentions(e){var a=e.match(MENTION_REGEX);return a||null}function _linkifyMentions(e,a,r,n){var t=e;if(!r.hasClass("parsed")&&!r.hasClass("autoLinked")&&!r.hasClass("linkified")){var i=_getMentions(e);i&&$.each(i,function(e,i){var s=i.trim().replace("@","");s=s.replace("<br>","");var l='<a class="linkified" href="'+a+s+'" target="'+n.target+'">'+i+"</a>";t=t.replaceAllByRegex(MENTION_REGEX,l,r.html())})}return t}function _linkifyEmails(e,a,r){var n=e;if(!a.hasClass("parsed")&&!a.hasClass("autoLinked")&&!a.hasClass("linkified")){var t=_getEmails(e);t&&$.each(t,function(e,t){var i='<a class="linkified" href="mailto:'+t.trim().replace("<br>","")+'" target="'+r.target+'">'+t+"</a>";n=n.replaceAllByRegex(EMAIL_REGEX,i,a.html())})}return n}function _linkifyHashtags(e,a,r){if(void 0!==e)return null===a.hashtagSearchUrl?e:e.replace(HASHTAG_REGEX,"$1<a class='linkified' href='"+a.baseUrl+a.hashtagSearchUrl+"$2' target='"+a.target+"'>#$2</a>")}function array_unique(e){var a="",r={},n="";for(a in e)e.hasOwnProperty(a)&&!1===function(e,a){var r="";for(r in a)if(a.hasOwnProperty(r)&&a[r]+""==e+"")return r;return!1}(n=e[a],r)&&(r[a]=n);return r}function array_walk(array,funcname,userdata){var key,value,ini;if(!array||"object"!=typeof array)return!1;if("object"==typeof array&&array.change_key_case)return arguments.length>2?array.walk(funcname,userdata):array.walk(funcname);try{if("function"==typeof funcname)for(key in array)arguments.length>2?funcname(array[key],key,userdata):funcname(array[key],key);else if("string"==typeof funcname)if(this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},!(ini=this.php_js.ini["phpjs.no-eval"])||0===parseInt(ini.local_value,10)||ini.local_value.toLowerCase&&"off"===ini.local_value.toLowerCase())if(arguments.length>2)for(key in array)eval(funcname+"(array[key], key, userdata)");else for(key in array)eval(funcname+"(array[key], key)");else if(arguments.length>2)for(key in array)this.window[funcname](array[key],key,userdata);else for(key in array)this.window[funcname](array[key],key);else{if(!funcname||"object"!=typeof funcname||2!==funcname.length)return!1;var obj=funcname[0],func=funcname[1];if(arguments.length>2)for(key in array)obj[func](array[key],key,userdata);else for(key in array)obj[func](array[key],key)}}catch(e){return!1}return!0}function trim(e,a){var r=[" ","\n","\r","\t","\f","\v"," "," "," "," "," "," "," "," "," "," "," "," ","​","\u2028","\u2029","　"].join(""),n=0,t=0;for(e+="",a&&(r=(a+"").replace(/([[\]().?/*{}+$^:])/g,"$1")),n=e.length,t=0;t<n;t++)if(-1===r.indexOf(e.charAt(t))){e=e.substring(t);break}for(t=(n=e.length)-1;t>=0;t--)if(-1===r.indexOf(e.charAt(t))){e=e.substring(0,t+1);break}return-1===r.indexOf(e.charAt(0))?e:""}function preg_quote(e,a){return String(e).replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(a||"")+"-]","g"),"\\$&")}var HASHTAG_REGEX=/(^|\s|\(|>)#([a-zA-Z0-9-.]+)/g,URL_REGEX=/(<a href=")?(?:(^|[ ]|\n|<br(\s+\/)?>))(?:(?:http|https):\/\/)?([-a-zA-Z0-9.]{2,256}\.[a-z]{2,4})\b(?:\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?((\?|\/)(.*))?/gi,MENTION_REGEX=/(?:(^|[ ]|\n|<br(\s+\/)?>))\B@([a-zA-Z0-9-.]+)/gi,EMAIL_REGEX=/(?:^|[ ]|\n|<br(\s+\/)>)([a-zA-Z0-9._\-!#$%&'*+-\/=?^_`{|}~"\\]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi;$.fn.autolink=function(e){return this.each(function(){var a=$(this),r=_linkify(a,e);a.html(r)})},String.prototype.replaceAllByRegex=function(e,a){return this.replace(new RegExp(e,"g"),a)},String.prototype.replaceAll=function(e,a){return this.split(e).join(a)}}(jQuery);